<!DOCTYPE html>
<html lang="vi-vn" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Chúng ta đã đi một chặng đường dài trong lập trình mạng Java: từ việc tìm địa chỉ (InetAddress), tải nội dung web (URLConnection), đến việc thiết lập kênh giao tiếp hai chiều tin cậy (TCP Socket), kênh tốc độ cao (UDP Socket), và thậm chí &ldquo;đông lạnh&rdquo; đối tượng để gửi đi (Serialization).\nBây giờ, hãy đến với một khái niệm trừu tượng và mạnh mẽ hơn: Java RMI (Remote Method Invocation - Gọi Phương Thức Từ Xa).\n">
<title>Java RMI - &#39;Phép Dịch Chuyển Tức Thời&#39; Cho Đối Tượng Java</title>

<link rel='canonical' href='http://localhost:1313/posts/bai-viet-java-so-9/'>

<link rel="stylesheet" href="/scss/style.min.b1a5b48e9268da293f0e82d09fd1299e5ecbd5ea47ba1f408b3687d520ce0c2b.css"><meta property='og:title' content="Java RMI - 'Phép Dịch Chuyển Tức Thời' Cho Đối Tượng Java">
<meta property='og:description' content="Chúng ta đã đi một chặng đường dài trong lập trình mạng Java: từ việc tìm địa chỉ (InetAddress), tải nội dung web (URLConnection), đến việc thiết lập kênh giao tiếp hai chiều tin cậy (TCP Socket), kênh tốc độ cao (UDP Socket), và thậm chí &ldquo;đông lạnh&rdquo; đối tượng để gửi đi (Serialization).\nBây giờ, hãy đến với một khái niệm trừu tượng và mạnh mẽ hơn: Java RMI (Remote Method Invocation - Gọi Phương Thức Từ Xa).\n">
<meta property='og:url' content='http://localhost:1313/posts/bai-viet-java-so-9/'>
<meta property='og:site_name' content='Nguyễn Xuân Tùng'>
<meta property='og:type' content='article'><meta property='article:section' content='Posts' /><meta property='article:published_time' content='2025-10-25T17:00:00&#43;07:00'/><meta property='article:modified_time' content='2025-10-25T17:00:00&#43;07:00'/>
<meta name="twitter:title" content="Java RMI - 'Phép Dịch Chuyển Tức Thời' Cho Đối Tượng Java">
<meta name="twitter:description" content="Chúng ta đã đi một chặng đường dài trong lập trình mạng Java: từ việc tìm địa chỉ (InetAddress), tải nội dung web (URLConnection), đến việc thiết lập kênh giao tiếp hai chiều tin cậy (TCP Socket), kênh tốc độ cao (UDP Socket), và thậm chí &ldquo;đông lạnh&rdquo; đối tượng để gửi đi (Serialization).\nBây giờ, hãy đến với một khái niệm trừu tượng và mạnh mẽ hơn: Java RMI (Remote Method Invocation - Gọi Phương Thức Từ Xa).\n">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_ca785c3f2ef7617f.png" width="300"
                            height="411" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Nguyễn Xuân Tùng</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                <span>Trang Chủ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/posts' >
                
                
                
                <span>Bài viết</span>
            </a>
        </li>
        
        
        <li >
            <a href='/profile' >
                
                
                
                <span>Profile</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/h%E1%BB%8Dc-java/" >
                Học Java
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/posts/bai-viet-java-so-9/">Java RMI - &#39;Phép Dịch Chuyển Tức Thời&#39; Cho Đối Tượng Java</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Oct 25, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    5 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <p>Chúng ta đã đi một chặng đường dài trong lập trình mạng Java: từ việc tìm địa chỉ (<code>InetAddress</code>), tải nội dung web (<code>URLConnection</code>), đến việc thiết lập kênh giao tiếp hai chiều tin cậy (<code>TCP Socket</code>), kênh tốc độ cao (<code>UDP Socket</code>), và thậm chí &ldquo;đông lạnh&rdquo; đối tượng để gửi đi (<code>Serialization</code>).</p>
<p>Bây giờ, hãy đến với một khái niệm trừu tượng và mạnh mẽ hơn: <strong>Java RMI (Remote Method Invocation - Gọi Phương Thức Từ Xa)</strong>.</p>
<p>Hãy tưởng tượng bạn có thể ngồi ở máy Client và gọi một phương thức của đối tượng đang chạy trên máy Server <em>y như thể</em> đối tượng đó đang nằm ngay trên máy Client của bạn. Bạn không cần bận tâm đến việc mở Socket, tạo <code>ObjectOutputStream</code>, hay xử lý lỗi mạng. Bạn chỉ cần viết: <code>remoteCalculator.add(5, 3)</code> và nhận kết quả.</p>
<p>Đó chính là phép màu của RMI! ✨ Nó tạo ra một lớp trừu tượng cao cấp, che giấu hoàn toàn sự phức tạp của việc giao tiếp mạng, cho phép bạn xây dựng các <strong>ứng dụng phân tán (Distributed Applications)</strong> một cách tự nhiên theo đúng phong cách Hướng Đối Tượng của Java.</p>
<hr>
<h2 id="tại-sao-cần-rmi-vượt-lên-socket-cơ-bản">Tại Sao Cần RMI? Vượt Lên Socket Cơ Bản
</h2><p>Lập trình Socket trực tiếp rất mạnh mẽ nhưng cũng rất &ldquo;thủ công&rdquo;:</p>
<ul>
<li>Bạn phải tự định nghĩa giao thức (protocol).</li>
<li>Bạn phải tự xử lý việc tuần tự hóa/giải tuần tự hóa dữ liệu.</li>
<li>Bạn phải tự quản lý kết nối, xử lý lỗi mạng.</li>
</ul>
<p>RMI tự động hóa tất cả những việc này:</p>
<ul>
<li><strong>Giao thức:</strong> RMI sử dụng giao thức riêng (JRMP) hoặc IIOP.</li>
<li><strong>Tuần tự hóa:</strong> RMI tự động dùng Java Serialization.</li>
<li><strong>Quản lý kết nối:</strong> RMI tự lo việc thiết lập và duy trì kết nối.</li>
</ul>
<hr>
<h2 id="mô-hình-kiến-trúc-rmi-ai-làm-gì-">Mô Hình Kiến Trúc RMI: Ai Làm Gì? 🎭
</h2><p>Một hệ thống RMI điển hình bao gồm:</p>
<ol>
<li><strong>Remote Interface:</strong> <code>interface</code> Java kế thừa <code>java.rmi.Remote</code>, định nghĩa các phương thức gọi từ xa (phải <code>throws RemoteException</code>). Đây là &ldquo;hợp đồng&rdquo;.</li>
<li><strong>Remote Object Implementation:</strong> Lớp Java <code>implements</code> Remote Interface, thường kế thừa <code>java.rmi.server.UnicastRemoteObject</code>. Chứa code logic thật sự trên Server.</li>
<li><strong>RMI Registry:</strong> &ldquo;Danh bạ&rdquo; chạy trên Server. Server đăng ký (bind) đối tượng vào Registry với một tên duy nhất.</li>
<li><strong>Stub:</strong> Proxy chạy trên Client, có cùng kiểu Remote Interface. Client lấy Stub từ Registry thông qua <code>lookup()</code>. Khi Client gọi phương thức trên Stub, Stub đóng gói tham số, gửi qua mạng.</li>
<li><strong>Skeleton (ẩn):</strong> Phía Server nhận yêu cầu từ Stub, giải nén, gọi phương thức trên Remote Object thật, đóng gói kết quả, gửi lại cho Stub.</li>
</ol>
<hr>
<h2 id="ví-dụ-code-chi-tiết-máy-tính-từ-xa">Ví Dụ Code Chi Tiết: Máy Tính Từ Xa
</h2><p>Chúng ta sẽ tạo 4 file <code>.java</code> riêng biệt.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// File: Calculator.java (Remote Interface)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.rmi.Remote;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.rmi.RemoteException;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Calculator</span> <span style="color:#66d9ef">extends</span> Remote {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) <span style="color:#66d9ef">throws</span> RemoteException;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">subtract</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) <span style="color:#66d9ef">throws</span> RemoteException; <span style="color:#75715e">// Thêm phương thức trừ</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// --------------------------------------------------</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// File: CalculatorImpl.java (Remote Object Implementation)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.rmi.server.UnicastRemoteObject;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.rmi.RemoteException;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CalculatorImpl</span> <span style="color:#66d9ef">extends</span> UnicastRemoteObject <span style="color:#66d9ef">implements</span> Calculator {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Constructor mặc định (bắt buộc cho UnicastRemoteObject)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#a6e22e">CalculatorImpl</span>() <span style="color:#66d9ef">throws</span> RemoteException {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>(); 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) <span style="color:#66d9ef">throws</span> RemoteException {
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;SERVER: Nhận được yêu cầu add(&#34;</span> <span style="color:#f92672">+</span> a <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, &#34;</span> <span style="color:#f92672">+</span> b <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> b;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">subtract</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) <span style="color:#66d9ef">throws</span> RemoteException {
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;SERVER: Nhận được yêu cầu subtract(&#34;</span> <span style="color:#f92672">+</span> a <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, &#34;</span> <span style="color:#f92672">+</span> b <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a <span style="color:#f92672">-</span> b;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// --------------------------------------------------</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// File: Server.java (Khởi tạo, Đăng ký)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.rmi.registry.LocateRegistry;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.rmi.registry.Registry;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.rmi.RemoteException;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Server</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 1. Tạo đối tượng dịch vụ</span>
</span></span><span style="display:flex;"><span>            CalculatorImpl calculator <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> CalculatorImpl();
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;SERVER: Đã tạo đối tượng CalculatorImpl.&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 2. Tạo hoặc lấy RMI Registry đang chạy ở cổng 1099</span>
</span></span><span style="display:flex;"><span>            Registry registry;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                registry <span style="color:#f92672">=</span> LocateRegistry.<span style="color:#a6e22e">createRegistry</span>(1099); <span style="color:#75715e">// Thử tạo mới</span>
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;SERVER: Đã tạo RMI Registry ở cổng 1099.&#34;</span>);
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (RemoteException e) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;SERVER: RMI Registry có vẻ đã chạy, đang lấy tham chiếu...&#34;</span>);
</span></span><span style="display:flex;"><span>                registry <span style="color:#f92672">=</span> LocateRegistry.<span style="color:#a6e22e">getRegistry</span>(1099);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 3. Đăng ký (bind) đối tượng dịch vụ vào Registry</span>
</span></span><span style="display:flex;"><span>            registry.<span style="color:#a6e22e">rebind</span>(<span style="color:#e6db74">&#34;MyCalculatorService&#34;</span>, calculator); <span style="color:#75715e">// Dùng tên khác</span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;SERVER: Đã đăng ký &#39;MyCalculatorService&#39; vào Registry.&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;SERVER: Sẵn sàng nhận yêu cầu từ Client.&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (Exception e) { 
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;SERVER: Gặp lỗi: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">toString</span>());
</span></span><span style="display:flex;"><span>            e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// --------------------------------------------------</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// File: Client.java (Tra cứu, Gọi phương thức)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.rmi.registry.LocateRegistry;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.rmi.registry.Registry;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Client</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        String serverHost <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;localhost&#34;</span>; 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (args.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> 0) {
</span></span><span style="display:flex;"><span>           serverHost <span style="color:#f92672">=</span> args<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>; 
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 1. Lấy tham chiếu đến Registry</span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;CLIENT: Đang kết nối đến RMI Registry tại &#34;</span> <span style="color:#f92672">+</span> serverHost <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:1099...&#34;</span>);
</span></span><span style="display:flex;"><span>            Registry registry <span style="color:#f92672">=</span> LocateRegistry.<span style="color:#a6e22e">getRegistry</span>(serverHost, 1099);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;CLIENT: Kết nối Registry thành công.&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 2. Tra cứu (lookup) đối tượng từ xa</span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;CLIENT: Đang tìm dịch vụ &#39;MyCalculatorService&#39;...&#34;</span>);
</span></span><span style="display:flex;"><span>            Calculator calculatorStub <span style="color:#f92672">=</span> (Calculator) registry.<span style="color:#a6e22e">lookup</span>(<span style="color:#e6db74">&#34;MyCalculatorService&#34;</span>); 
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;CLIENT: Đã lấy được Stub của MyCalculatorService.&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 3. Tương tác với người dùng và gọi phương thức từ xa</span>
</span></span><span style="display:flex;"><span>            Scanner scanner <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner(System.<span style="color:#a6e22e">in</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">true</span>) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\nChọn phép toán:&#34;</span>);
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;1. Cộng (add)&#34;</span>);
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;2. Trừ (subtract)&#34;</span>);
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;0. Thoát&#34;</span>);
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;Lựa chọn của bạn: &#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">int</span> choice <span style="color:#f92672">=</span> scanner.<span style="color:#a6e22e">nextInt</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (choice <span style="color:#f92672">==</span> 0) <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;Nhập số a: &#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> scanner.<span style="color:#a6e22e">nextInt</span>();
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;Nhập số b: &#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> scanner.<span style="color:#a6e22e">nextInt</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">int</span> result;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (choice <span style="color:#f92672">==</span> 1) {
</span></span><span style="display:flex;"><span>                    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;CLIENT: Gọi phương thức add(&#34;</span> <span style="color:#f92672">+</span> a <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, &#34;</span> <span style="color:#f92672">+</span> b <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;) từ xa...&#34;</span>);
</span></span><span style="display:flex;"><span>                    result <span style="color:#f92672">=</span> calculatorStub.<span style="color:#a6e22e">add</span>(a, b); 
</span></span><span style="display:flex;"><span>                    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;CLIENT: Nhận kết quả từ Server: &#34;</span> <span style="color:#f92672">+</span> result);
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (choice <span style="color:#f92672">==</span> 2) {
</span></span><span style="display:flex;"><span>                     System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;CLIENT: Gọi phương thức subtract(&#34;</span> <span style="color:#f92672">+</span> a <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, &#34;</span> <span style="color:#f92672">+</span> b <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;) từ xa...&#34;</span>);
</span></span><span style="display:flex;"><span>                    result <span style="color:#f92672">=</span> calculatorStub.<span style="color:#a6e22e">subtract</span>(a, b); 
</span></span><span style="display:flex;"><span>                    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;CLIENT: Nhận kết quả từ Server: &#34;</span> <span style="color:#f92672">+</span> result);
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lựa chọn không hợp lệ.&#34;</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            scanner.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;CLIENT: Kết thúc.&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;CLIENT: Gặp lỗi: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">toString</span>());
</span></span><span style="display:flex;"><span>            e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 Nguyễn Xuân Tùng
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.31.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.ecd139d3b4f1dafb5cd9c1037f8896e526e5289c3f29b91a454ca1de9d8f178a.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
